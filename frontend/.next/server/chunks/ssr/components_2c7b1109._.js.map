{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/m1croo/Documents/Github/Factorio%20Server%20Manager/frontend/components/ServerManager/notification.tsx"],"sourcesContent":["import { AlertCircle, CheckCircle } from 'lucide-react';\n\ninterface NotificationProps {\n  type: 'success' | 'error';\n  message: string;\n  onClose: () => void;\n}\n\nexport default function Notification({ type, message, onClose }: NotificationProps) {\n  return (\n    <div\n      className={`fixed top-4 right-4 z-50 flex items-center p-4 rounded-lg shadow-lg \n      ${type === 'success' ? 'bg-green-50 text-green-800' : 'bg-red-50 text-red-800'}`}\n    >\n      {type === 'success' ? (\n        <CheckCircle className=\"w-5 h-5 mr-2\" />\n      ) : (\n        <AlertCircle className=\"w-5 h-5 mr-2\" />\n      )}\n      <span className=\"font-medium\">{message}</span>\n      <button onClick={onClose} className=\"ml-4 text-gray-400 hover:text-gray-900\">\n        ×\n      </button>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAAA;AAAA;;;AAQe,SAAS,aAAa,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAqB;IAChF,qBACE,8OAAC;QACC,WAAW,CAAC;MACZ,EAAE,SAAS,YAAY,+BAA+B,0BAA0B;;YAE/E,SAAS,0BACR,8OAAC,2NAAA,CAAA,cAAW;gBAAC,WAAU;;;;;qCAEvB,8OAAC,oNAAA,CAAA,cAAW;gBAAC,WAAU;;;;;;0BAEzB,8OAAC;gBAAK,WAAU;0BAAe;;;;;;0BAC/B,8OAAC;gBAAO,SAAS;gBAAS,WAAU;0BAAyC;;;;;;;;;;;;AAKnF","debugId":null}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///home/m1croo/Documents/Github/Factorio%20Server%20Manager/frontend/components/ui/switch.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,OAAqB;QACpB,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,+XACA;QAED,GAAG,KAAK;QACT,KAAK;kBAEL,cAAA,8OAAC,kKAAA,CAAA,QAAsB;YACrB,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV;;;;;;;;;;;AAKR,OAAO,WAAW,GAAG,kKAAA,CAAA,OAAqB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 93, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 99, "column": 0}, "map": {"version":3,"sources":["file:///home/m1croo/Documents/Github/Factorio%20Server%20Manager/frontend/components/ui/tooltip.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Portal>\n    <TooltipPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </TooltipPrimitive.Portal>\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,kBAAkB,mKAAA,CAAA,WAAyB;AAEjD,MAAM,UAAU,mKAAA,CAAA,OAAqB;AAErC,MAAM,iBAAiB,mKAAA,CAAA,UAAwB;AAE/C,MAAM,+BAAiB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGpC,CAAC,EAAE,SAAS,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC1C,8OAAC,mKAAA,CAAA,SAAuB;kBACtB,cAAA,8OAAC,mKAAA,CAAA,UAAwB;YACvB,KAAK;YACL,YAAY;YACZ,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,qXACA;YAED,GAAG,KAAK;;;;;;;;;;;AAIf,eAAe,WAAW,GAAG,mKAAA,CAAA,UAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 135, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 141, "column": 0}, "map": {"version":3,"sources":["file:///home/m1croo/Documents/Github/Factorio%20Server%20Manager/frontend/components/ServerManager/createServerModal.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { Loader2, X, Info } from 'lucide-react';\nimport { Switch } from '@/components/ui/switch';\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from '@/components/ui/tooltip';\nimport apiClient from '@/lib/apiClient';\n\ninterface Props {\n  onClose: () => void;\n  refreshServers: () => void;\n  showNotification: (type: 'success' | 'error', message: string) => void;\n  versions: string[];\n}\n\nexport default function CreateServerModal({ onClose, refreshServers, showNotification, versions }: Props) {\n  const [newServer, setNewServer] = useState({\n    name: '',\n    vcpus: 2,\n    memory: 4,\n    storage: 10,\n    version: versions[0] || 'latest',\n    onlineMode: false, // false = offline, true = online\n    dlcEnabled: false,\n    rconPassword: '',\n  });\n  const [isCreating, setIsCreating] = useState(false);\n\n  const getMajorVersion = (version: string): number => {\n    if (version === 'latest') return 2;\n    const parts = version.split('.');\n    return parseInt(parts[0], 10);\n  };\n\n  const isDlcSupported = getMajorVersion(newServer.version) >= 2;\n\n  useEffect(() => {\n    if (!isDlcSupported) {\n      setNewServer((prev) => ({ ...prev, dlcEnabled: false }));\n    }\n  }, [newServer.version]);\n\n  const handleCreateServer = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    // Password validation\n    const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[!@#$%^&*]).{8,}$/;\n    if (!newServer.rconPassword || !passwordRegex.test(newServer.rconPassword)) {\n      showNotification(\n        'error',\n        'RCON password must be at least 8 characters and include uppercase, lowercase, numbers, and special characters'\n      );\n      return;\n    }\n\n    if (!newServer.name.trim()) {\n      showNotification('error', 'Server name is required');\n      return;\n    }\n    if (newServer.vcpus < 1 || newServer.vcpus > 32) {\n      showNotification('error', 'vCPUs must be between 1 and 32');\n      return;\n    }\n    if (newServer.memory < 0.5 || newServer.memory > 32) {\n      showNotification('error', 'Memory must be between 0.5 GB and 32 GB');\n      return;\n    }\n    if (newServer.storage < 5 || newServer.storage > 50) {\n      showNotification('error', 'Storage must be between 5 GB and 50 GB');\n      return;\n    }\n    if (!newServer.version) {\n      showNotification('error', 'Version must be selected');\n      return;\n    }\n\n    setIsCreating(true);\n    try {\n      const payload = {\n        ...newServer,\n        memory: Math.round(newServer.memory * 1024),\n        rconPassword: newServer.rconPassword,\n      };\n      await apiClient.post('/servers', payload);\n      onClose();\n      refreshServers();\n      showNotification('success', 'Server created successfully');\n    } catch (error) {\n      showNotification('error', 'Failed to create server');\n      console.log(error);\n    } finally {\n      setIsCreating(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"p-6 bg-secondary rounded-lg shadow-xl max-w-lg w-full\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <h2 className=\"text-2xl font-bold\">Create New Server</h2>\n          <button onClick={onClose} className=\"hover:text-gray-700\">\n            <X className=\"w-6 h-6\" />\n          </button>\n        </div>\n        <form onSubmit={handleCreateServer} className=\"grid grid-cols-2 gap-4\">\n          <div className=\"col-span-2\">\n            <label className=\"block mb-1 text-sm font-medium\">Server Name</label>\n            <input\n              type=\"text\"\n              value={newServer.name}\n              onChange={(e) => setNewServer({ ...newServer, name: e.target.value })}\n              className=\"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              required\n              disabled={isCreating}\n            />\n          </div>\n          <div>\n            <label className=\"block mb-1 text-sm font-medium\">Version</label>\n            <select\n              value={newServer.version}\n              onChange={(e) => setNewServer({ ...newServer, version: e.target.value })}\n              className=\"w-full p-2 border bg-secondary rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              disabled={isCreating}\n            >\n              {versions.length > 0 ? (\n                versions.map((version) => (\n                  <option key={version} value={version}>\n                    {version}\n                  </option>\n                ))\n              ) : (\n                <option value=\"latest\">Latest</option>\n              )}\n            </select>\n          </div>\n          <div>\n            <label className=\"block mb-1 text-sm font-medium\">vCPUs</label>\n            <input\n              type=\"number\"\n              min={1}\n              max={32}\n              step={1}\n              value={newServer.vcpus}\n              onChange={(e) => setNewServer({ ...newServer, vcpus: parseInt(e.target.value) || 1 })}\n              className=\"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              disabled={isCreating}\n            />\n          </div>\n          <div>\n            <label className=\"block mb-1 text-sm font-medium\">Memory (GB)</label>\n            <input\n              type=\"number\"\n              min={0.5}\n              max={32}\n              step={0.1}\n              value={newServer.memory}\n              onChange={(e) => setNewServer({ ...newServer, memory: parseFloat(e.target.value) || 0.5 })}\n              className=\"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              disabled={isCreating}\n            />\n          </div>\n          <div>\n            <label className=\"block mb-1 text-sm font-medium\">Storage (GB)</label>\n            <input\n              type=\"number\"\n              min={5}\n              max={50}\n              step={1}\n              value={newServer.storage}\n              onChange={(e) => setNewServer({ ...newServer, storage: parseInt(e.target.value) || 5 })}\n              className=\"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              disabled={isCreating}\n            />\n          </div>\n          {/* RCON Password Field */}\n          <div className=\"col-span-2\">\n            <label className=\"block mb-1 text-sm font-medium flex items-center gap-1\">\n              RCON Password\n              <TooltipProvider>\n                <Tooltip>\n                  <TooltipTrigger asChild>\n                    <Info className=\"w-4 h-4 text-gray-500\" />\n                  </TooltipTrigger>\n                  <TooltipContent>\n                    <p>\n                      Must be at least 8 characters long and include at least one uppercase letter, one lowercase letter, one number, and one special character (e.g., !@#$%^&*).\n                    </p>\n                  </TooltipContent>\n                </Tooltip>\n              </TooltipProvider>\n            </label>\n            <input\n              type=\"password\"\n              value={newServer.rconPassword}\n              onChange={(e) => setNewServer({ ...newServer, rconPassword: e.target.value })}\n              className=\"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              required\n              disabled={isCreating}\n            />\n          </div>\n          <div className=\"col-span-2 flex items-center gap-2\">\n            <label className=\"text-sm font-medium\">Server Mode:</label>\n            <Switch\n              checked={newServer.onlineMode}\n              onCheckedChange={(checked) => setNewServer({ ...newServer, onlineMode: checked })}\n              disabled={isCreating}\n            />\n            <span>{newServer.onlineMode ? 'Online' : 'Offline'}</span>\n            <TooltipProvider>\n              <Tooltip>\n                <TooltipTrigger asChild>\n                  <Info className=\"w-4 h-4 text-gray-500\" />\n                </TooltipTrigger>\n                <TooltipContent>\n                  <p>\n                    If set to Online, the server appears in Factorio’s public server list and requires a Factorio account to join. If set to Offline, the server remains private.\n                  </p>\n                </TooltipContent>\n              </Tooltip>\n            </TooltipProvider>\n          </div>\n          <div className=\"col-span-2 flex items-center gap-2\">\n            <label className=\"text-sm font-medium\">Space Age DLC:</label>\n            <Switch\n              checked={newServer.dlcEnabled}\n              onCheckedChange={(checked) => setNewServer({ ...newServer, dlcEnabled: checked })}\n              disabled={!isDlcSupported || isCreating}\n            />\n            <span>{newServer.dlcEnabled ? 'Enabled' : 'Disabled'}</span>\n            {!isDlcSupported && (\n              <span className=\"text-sm text-gray-500\">(Not available for this version)</span>\n            )}\n            <TooltipProvider>\n              <Tooltip>\n                <TooltipTrigger asChild>\n                  <Info className=\"w-4 h-4 text-gray-500\" />\n                </TooltipTrigger>\n                <TooltipContent>\n                  <p>\n                    Enables the Space Age DLC. Requires Factorio version 2.0.0 or higher. All players must own the DLC to join the server.\n                  </p>\n                </TooltipContent>\n              </Tooltip>\n            </TooltipProvider>\n          </div>\n          <button\n            type=\"submit\"\n            disabled={isCreating}\n            className=\"col-span-2 mt-4 px-4 py-2 bg-primary hover:bg-primary/80 text-white rounded-md flex items-center justify-center transition-colors\"\n          >\n            {isCreating && <Loader2 className=\"w-5 h-5 mr-2 animate-spin\" />}\n            {isCreating ? 'Creating...' : 'Create Server'}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 722, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 728, "column": 0}, "map": {"version":3,"sources":["file:///home/m1croo/Documents/Github/Factorio%20Server%20Manager/frontend/components/ServerManager/uploadSave.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, ChangeEvent, DragEvent } from 'react';\nimport apiClient from '@/lib/apiClient';\nimport { Upload, Loader2 } from 'lucide-react';\n\ninterface SaveUploadProps {\n  serverId: string;\n  warning?: boolean;\n}\n\nconst SaveUpload: React.FC<SaveUploadProps> = ({ serverId, warning = false }) => {\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [isUploading, setIsUploading] = useState(false);\n  const [errorMessage, setErrorMessage] = useState<string | null>(null);\n\n  const handleFileChange = (e: ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files && e.target.files.length > 0) {\n      setSelectedFile(e.target.files[0]);\n      setErrorMessage(null); // Reset error on new file selection\n    }\n  };\n\n  const handleDrop = (e: DragEvent<HTMLDivElement>) => {\n    e.preventDefault();\n    if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n      setSelectedFile(e.dataTransfer.files[0]);\n      setErrorMessage(null);\n      e.dataTransfer.clearData();\n    }\n  };\n\n  const handleDragOver = (e: DragEvent<HTMLDivElement>) => {\n    e.preventDefault();\n  };\n\n  const handleUploadSave = async () => {\n    if (!selectedFile) return;\n    \n    setIsUploading(true);\n    setErrorMessage(null);\n    const formData = new FormData();\n    formData.append('save', selectedFile);\n    \n    try {\n      await apiClient.post(`/servers/${serverId}/upload`, formData, {\n        headers: { 'Content-Type': 'multipart/form-data' }\n      });\n      setSelectedFile(null);\n      alert('Save file uploaded successfully');\n      setIsModalOpen(false);\n    } catch (error: any) {\n      console.error('Upload error:', error);\n      if (error.response?.status === 400 && error.response?.data?.error) {\n        setErrorMessage(error.response.data.error); // Display version mismatch error\n      } else {\n        alert('Failed to upload save file');\n      }\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  return (\n    <>\n      <button\n        onClick={() => setIsModalOpen(true)}\n        className=\"px-4 py-2 bg-primary hover:bg-primary/80 text-white rounded-md flex items-center transition-colors\"\n        disabled={isUploading}\n      >\n        {isUploading ? (\n          <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n        ) : (\n          <Upload className=\"w-4 h-4 mr-2\" />\n        )}\n        Upload Save\n      </button>\n\n      {isModalOpen && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\n          <div\n            className=\"absolute inset-0 bg-black opacity-50\"\n            onClick={() => !isUploading && setIsModalOpen(false)}\n          ></div>\n          <div className=\"relative bg-secondary shadow-xl rounded-lg p-6 w-96 z-10\">\n            {warning && (\n              <div className=\"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded\">\n                Warning: Uploading a new save file will remove older saves. Please backup your existing save!\n              </div>\n            )}\n            {errorMessage && (\n              <div className=\"mb-4 p-3 bg-yellow-100 border border-yellow-400 text-yellow-700 rounded\">\n                {errorMessage}\n              </div>\n            )}\n            <div\n              className=\"border-dashed border-4 border-primary rounded-md p-6 text-center cursor-pointer\"\n              onDrop={!isUploading ? handleDrop : undefined}\n              onDragOver={!isUploading ? handleDragOver : undefined}\n              onClick={!isUploading ? () => document.getElementById('fileInput')?.click() : undefined}\n            >\n              {isUploading ? (\n                <div className=\"flex items-center justify-center\">\n                  <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                  <p>Uploading...</p>\n                </div>\n              ) : selectedFile ? (\n                <p>{selectedFile.name}</p>\n              ) : (\n                <p>Drag and drop your save file here, or click to select a file</p>\n              )}\n            </div>\n            <input\n              id=\"fileInput\"\n              type=\"file\"\n              className=\"hidden\"\n              onChange={handleFileChange}\n              disabled={isUploading}\n            />\n            <div className=\"mt-4 flex justify-end space-x-2\">\n              <button\n                onClick={() => setIsModalOpen(false)}\n                className=\"px-4 py-2 bg-gray-300 hover:bg-gray-400 text-gray-800 rounded-md transition-colors\"\n                disabled={isUploading}\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleUploadSave}\n                className=\"px-4 py-2 bg-primary hover:bg-primary/80 text-white rounded-md transition-colors\"\n                disabled={isUploading || !selectedFile}\n              >\n                {isUploading ? (\n                  <Loader2 className=\"w-4 h-4 mr-2 animate-spin inline\" />\n                ) : null}\n                Confirm Upload\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default SaveUpload;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 956, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 962, "column": 0}, "map": {"version":3,"sources":["file:///home/m1croo/Documents/Github/Factorio%20Server%20Manager/frontend/components/ServerManager/consoleModal.tsx"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\nimport { X, Loader2 } from 'lucide-react';\nimport apiClient from '@/lib/apiClient';\n\n// Define the props interface\ninterface ConsoleModalProps {\n  serverId: string;\n  onClose: () => void;\n}\n\n// Define the command history entry interface\ninterface CommandEntry {\n  command: string;\n  response: string;\n}\n\nexport default function ConsoleModal({ serverId, onClose }: ConsoleModalProps) {\n  const [commandHistory, setCommandHistory] = useState<CommandEntry[]>([]);\n  const [currentCommand, setCurrentCommand] = useState<string>('');\n  const [logs, setLogs] = useState<string[]>([]);\n  const [isConnecting, setIsConnecting] = useState<boolean>(true);\n  const [isSending, setIsSending] = useState<boolean>(false); // new state to track sending\n\n  const outputRef = useRef<HTMLDivElement>(null);\n  const eventSourceRef = useRef<EventSource | null>(null);\n\n  // Connect to server logs when the modal opens\n  useEffect(() => {\n    const connectToLogs = () => {\n      setIsConnecting(true);\n      eventSourceRef.current = new EventSource(`${process.env.NEXT_PUBLIC_API_URL}/servers/${serverId}/logs`);\n\n      // Handle incoming messages\n      eventSourceRef.current.onmessage = (event: MessageEvent<string>) => {\n        setLogs((prevLogs) => [...prevLogs, event.data]);\n        setIsConnecting(false); // Hide loading once logs start arriving\n      };\n\n      // Handle errors\n      eventSourceRef.current.onerror = (error: Event) => {\n        console.error('EventSource error:', error);\n        setIsConnecting(false);\n        eventSourceRef.current?.close();\n      };\n    };\n\n    connectToLogs();\n\n    // Cleanup on unmount\n    return () => {\n      eventSourceRef.current?.close();\n    };\n  }, [serverId]);\n\n  // Send RCON command with loading state\n  const sendCommand = async () => {\n    if (!currentCommand.trim() || isSending) return;\n    setIsSending(true);\n    try {\n      const { data } = await apiClient.post<{ response: string }>(\n        `/servers/${serverId}/rcon`,\n        { command: currentCommand }\n      );\n      setCommandHistory((prev) => [\n        ...prev,\n        { command: currentCommand, response: data.response || 'Command executed' },\n      ]);\n      setCurrentCommand('');\n    } catch (error) {\n      setCommandHistory((prev) => [\n        ...prev,\n        { command: currentCommand, response: 'Error: Failed to send command' },\n      ]);\n      console.error('RCON command error:', error);\n    } finally {\n      setIsSending(false);\n    }\n  };\n\n  // Auto-scroll to the bottom when logs or command history update\n  useEffect(() => {\n    if (outputRef.current) {\n      outputRef.current.scrollTop = outputRef.current.scrollHeight;\n    }\n  }, [logs, commandHistory]);\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"p-6 bg-secondary rounded-lg shadow-xl max-w-4xl w-full h-[80vh] flex flex-col\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <h2 className=\"text-2xl font-bold\">Server Console</h2>\n          <button onClick={onClose} className=\"hover:text-gray-700\">\n            <X className=\"w-6 h-6\" />\n          </button>\n        </div>\n        <div\n          className=\"flex-1 overflow-y-auto mb-4 p-2 border rounded-md bg-gray-900 text-white\"\n          ref={outputRef}\n        >\n          {isConnecting && (\n            <div className=\"flex justify-center items-center h-full\">\n              <Loader2 className=\"w-8 h-8 text-blue-600 animate-spin\" />\n            </div>\n          )}\n          {!isConnecting &&\n            logs.map((log, index) => (\n              <p key={index} className=\"text-gray-300\">\n                {log}\n              </p>\n            ))}\n          {commandHistory.map((entry, index) => (\n            <div key={index + logs.length} className=\"mb-2\">\n              <p className=\"text-green-400\">{entry.command}</p>\n              <p>{entry.response}</p>\n            </div>\n          ))}\n        </div>\n        <div className=\"flex gap-2\">\n          <input\n            type=\"text\"\n            value={currentCommand}\n            onChange={(e) => setCurrentCommand(e.target.value)}\n            className=\"flex-1 p-2 border rounded-md bg-secondary text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Enter command\"\n            disabled={isSending} // disable while sending\n            onKeyPress={(e) => {\n              if (e.key === 'Enter' && !isSending) {\n                sendCommand();\n              }\n            }}\n          />\n          <button\n            onClick={sendCommand}\n            disabled={isSending} // disable while sending\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            {isSending ? (\n              <>\n                <Loader2 className=\"w-5 h-5 mr-2 animate-spin\" />\n              </>\n            ) : (\n              'Send'\n            )}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1197, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1203, "column": 0}, "map": {"version":3,"sources":["file:///home/m1croo/Documents/Github/Factorio%20Server%20Manager/frontend/components/ServerManager/serverList.tsx"],"sourcesContent":["'use client';\nimport { useState, useEffect } from 'react';\nimport { Loader2, Play, Square, ChevronDown, ChevronUp, Trash2, Terminal } from 'lucide-react';\nimport apiClient from '@/lib/apiClient';\nimport SaveUpload from './uploadSave';\nimport ConsoleModal from './consoleModal';\n\ninterface ServerStats {\n  cpuUsage?: number;\n  memoryUsage?: number;\n  memoryLimit?: number;\n  networkUsage?: { tx_bytes?: number };\n  onlinePlayers?: number;\n}\n\nexport interface Server {\n  id: string;\n  name: string;\n  status: 'stopped' | 'running';\n  version: string;\n  port: number;\n  memory: number;\n  vcpus: number;\n  storage: number;\n  serverSettings: {\n    visibility: { public: boolean; lan: boolean };\n  };\n  stats?: ServerStats;\n}\n\ninterface ServerListProps {\n  showNotification: (type: 'success' | 'error', message: string) => void;\n}\n\nexport default function ServerList({ showNotification }: ServerListProps) {\n  const [servers, setServers] = useState<Server[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [expandedServers, setExpandedServers] = useState<{ [key: string]: boolean }>({});\n  const [actionInProgress, setActionInProgress] = useState<{ [key: string]: 'starting' | 'stopping' | 'uploading' | 'deleting' | null }>({});\n  const [consoleServerId, setConsoleServerId] = useState<string | null>(null); // State to manage console modal\n\n  const fetchServers = async () => {\n  try {\n    const { data } = await apiClient.get('/servers');\n    \n    setServers((prevServers) => {\n      return data.map((newServer: Server) => {\n        const existingServer = prevServers.find((server) => server.id === newServer.id);\n        if (existingServer) {\n          return { ...newServer, stats: existingServer.stats };\n        }\n        return newServer;\n      });\n    });\n  } catch (error) {\n    console.error('Error fetching servers:', error);\n    showNotification('error', 'Failed to fetch servers');\n  } finally {\n    setLoading(false);\n  }\n};\n\n\n  const fetchServerStats = async (serverId: string) => {\n    try {\n      const { data } = await apiClient.get(`/servers/${serverId}/stats`);\n      setServers((prevServers) =>\n        prevServers.map((server) =>\n          server.id === serverId ? { ...server, stats: data } : server\n        )\n      );\n    } catch (error) {\n      console.error(`Error fetching stats for server ${serverId}:`, error);\n    }\n  };\n  useEffect(() => {\n    fetchServers();\n  }, []); \n  useEffect(() => {\n    const interval = setInterval(() => {\n      fetchServers();\n    }, 5000);\n    return () => clearInterval(interval);\n  }, []);\n\n  useEffect(() => {\n    if (servers.length > 0) {\n      const statsInterval = setInterval(() => {\n        servers.forEach((server) => {\n          if (server.status === 'running') {\n            fetchServerStats(server.id);\n          }\n        });\n      }, 2000);\n\n      return () => clearInterval(statsInterval);\n    }\n  }, [servers]);\n\n  const handleServerAction = async (serverId: string, action: 'start' | 'stop') => {\n    setActionInProgress((prev) => ({ ...prev, [serverId]: action === 'start' ? 'starting' : 'stopping' }));\n    try {\n      await apiClient.post(`/servers/${serverId}/${action}`);\n      fetchServers();\n      showNotification('success', `Server ${action === 'start' ? 'started' : 'stopped'} successfully`);\n    } catch (error) {\n      console.error(`Server ${action} error:`, error);\n      showNotification('error', `Failed to ${action} server`);\n    } finally {\n      setActionInProgress((prev) => ({ ...prev, [serverId]: null }));\n    }\n  };\n\n  const handleDeleteServer = async (serverId: string) => {\n    if (window.confirm('Are you sure you want to delete this server? This action cannot be undone.')) {\n      setActionInProgress((prev) => ({ ...prev, [serverId]: 'deleting' }));\n      try {\n        await apiClient.post(`/servers/${serverId}/delete`);\n        fetchServers();\n        showNotification('success', 'Server deleted successfully');\n      } catch (error) {\n        console.error('Server delete error:', error);\n        showNotification('error', 'Failed to delete server');\n      } finally {\n        setActionInProgress((prev) => ({ ...prev, [serverId]: null }));\n      }\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <Loader2 className=\"w-8 h-8 text-blue-600 animate-spin\" />\n      </div>\n    );\n  }\n\n  if (servers.length === 0) {\n    return (\n      <p className=\"text-center\">No servers found. Click 'Create Server' to get started.</p>\n    );\n  }\n\n  return (\n    <div className=\"grid gap-6\">\n      {servers.map((server) => (\n        <div\n          key={server.id}\n          className=\"p-6 rounded-lg bg-secondary hover:bg-secondary/50 shadow-sm border hover:shadow-md transition-shadow duration-200\"\n        >\n          <div className=\"flex justify-between items-center mb-4\">\n            <h3 className=\"text-xl font-semibold\">{server.name}</h3>\n            <span\n              className={`px-3 py-1 text-sm font-medium rounded-full ${\n                server.status === 'running' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'\n              }`}\n            >\n              {server.status.charAt(0).toUpperCase() + server.status.slice(1)}\n            </span>\n          </div>\n          <div className=\"flex justify-between items-center\">\n            <div className=\"flex gap-3\">\n              <button\n                onClick={() => handleServerAction(server.id, server.status === 'running' ? 'stop' : 'start')}\n                disabled={!!actionInProgress[server.id]}\n                className={`px-4 py-2 rounded-md text-white flex items-center transition-colors ${\n                  server.status === 'running' ? 'bg-red-600 hover:bg-red-700' : 'bg-green-600 hover:bg-green-700'\n                } ${actionInProgress[server.id] ? 'opacity-50 cursor-not-allowed' : ''}`}\n              >\n                {actionInProgress[server.id] === 'starting' || actionInProgress[server.id] === 'stopping' ? (\n                  <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                ) : server.status === 'running' ? (\n                  <Square className=\"w-4 h-4 mr-2\" />\n                ) : (\n                  <Play className=\"w-4 h-4 mr-2\" />\n                )}\n                {actionInProgress[server.id] === 'starting'\n                  ? 'Starting...'\n                  : actionInProgress[server.id] === 'stopping'\n                    ? 'Stopping...'\n                    : server.status === 'running'\n                      ? 'Stop'\n                      : 'Start'}\n              </button>\n              <SaveUpload serverId={server.id} warning={true} />\n              {/* Add Console Button */}\n              <button\n                onClick={() => setConsoleServerId(server.id)}\n                disabled={server.status !== 'running'}\n                className={`px-4 py-2 rounded-md text-white flex items-center transition-colors bg-blue-600 hover:bg-blue-700 ${\n                  server.status !== 'running' ? 'opacity-50 cursor-not-allowed' : ''\n                }`}\n              >\n                <Terminal className=\"w-4 h-4 mr-2\" />\n                Console\n              </button>\n            </div>\n            <button\n              onClick={() => setExpandedServers((prev) => ({ ...prev, [server.id]: !prev[server.id] }))}\n              className=\"px-4 py-2 bg-primary rounded-md hover:bg-primary/80 flex items-center transition-colors\"\n            >\n              {expandedServers[server.id] ? <ChevronUp className=\"w-4 h-4 mr-2\" /> : <ChevronDown className=\"w-4 h-4 mr-2\" />}\n              Details\n            </button>\n          </div>\n          <div\n            className={`overflow-hidden transition-all duration-300 ${expandedServers[server.id] ? 'max-h-96' : 'max-h-0'}`}\n          >\n            <div className=\"mt-4 p-4 rounded-md grid grid-cols-2 gap-4 text-sm\">\n              <div><span className=\"font-semibold\">Port:</span> {server.port}</div>\n              <div><span className=\"font-semibold\">Version:</span> {server.version}</div>\n              <div><span className=\"font-semibold\">vCPUs:</span> {server.vcpus}</div>\n              <div><span className=\"font-semibold\">Memory:</span> {server.memory / 1024} GB</div>\n              <div><span className=\"font-semibold\">Storage:</span> {server.storage} GB</div>\n              <div><span className=\"font-semibold\">Server Id:</span> {server.id}</div>\n              {server.stats ? (\n                <>\n                  <div>\n                    <span className=\"font-semibold\">CPU Usage:</span>{' '}\n                    {server.stats.cpuUsage !== undefined ? `${server.stats.cpuUsage}%` : 'N/A'}\n                  </div>\n                  <div>\n                    <span className=\"font-semibold\">Memory Usage:</span>{' '}\n                    {server.stats.memoryUsage !== undefined && server.stats.memoryLimit !== undefined\n                      ? `${Math.round(server.stats.memoryUsage)}MB / ${(server.stats.memoryLimit / 1024).toFixed(1)} GB`\n                      : 'N/A'}\n                  </div>\n                  <div>\n                    <span className=\"font-semibold\">Network Usage:</span>{' '}\n                    {server.stats.networkUsage?.tx_bytes !== undefined\n                      ? `${(server.stats.networkUsage.tx_bytes / 1048576).toFixed(2)} MB`\n                      : 'N/A'}\n                  </div>\n                  {server.stats.onlinePlayers !== undefined && (\n                    <div>\n                      <span className=\"font-semibold\">Online Players:</span> {server.stats.onlinePlayers}\n                    </div>\n                  )}\n                </>\n              ) : server.status === 'running' ? (\n                <div className=\"col-span-2 text-gray-500\">Loading stats...</div>\n              ) : null}\n            </div>\n            <div className=\"mt-4 flex justify-end\">\n              <button\n                onClick={() => handleDeleteServer(server.id)}\n                disabled={actionInProgress[server.id] === 'deleting'}\n                className={`px-4 py-2 bg-red-600 text-white rounded-md flex items-center transition-colors ${\n                  actionInProgress[server.id] === 'deleting' ? 'opacity-50 cursor-not-allowed' : 'hover:bg-red-700'\n                }`}\n              >\n                {actionInProgress[server.id] === 'deleting' ? (\n                  <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                ) : (\n                  <Trash2 className=\"w-4 h-4 mr-2\" />\n                )}\n                {actionInProgress[server.id] === 'deleting' ? 'Deleting...' : 'Delete Server'}\n              </button>\n            </div>\n          </div>\n        </div>\n      ))}\n      {/* Render ConsoleModal when a server is selected */}\n      {consoleServerId && <ConsoleModal serverId={consoleServerId} onClose={() => setConsoleServerId(null)} />}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1751, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1757, "column": 0}, "map": {"version":3,"sources":["file:///home/m1croo/Documents/Github/Factorio%20Server%20Manager/frontend/components/ServerManager/ServerManager.tsx"],"sourcesContent":["'use client'\nimport { useState, useEffect } from 'react';\nimport Notification from '@/components/ServerManager/notification';\nimport CreateServerModal from '@/components/ServerManager/createServerModal';\nimport ServerList from '@/components/ServerManager/serverList';\nimport { RefreshCw } from 'lucide-react';\nimport apiClient from '@/lib/apiClient';\n\nexport default function ServerManager() {\n  const [notification, setNotification] = useState<{ type: 'success' | 'error'; message: string } | null>(null);\n  const [versions, setVersions] = useState<string[]>([]);\n  const [refreshServersTrigger, setRefreshServersTrigger] = useState(false);\n  const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);\n\n  const showNotification = (type: 'success' | 'error', message: string) => {\n    setNotification({ type, message });\n    setTimeout(() => setNotification(null), 5000);\n  };\n\n  const refreshServers = () => {\n    const scrollY = window.scrollY;\n    setRefreshServersTrigger((prev) => !prev);\n    setTimeout(() => window.scrollTo(0, scrollY), 0);\n  };\n\n  useEffect(() => {\n    const fetchVersions = async () => {\n      try {\n        const { data } = await apiClient.get('servers/versions');\n        setVersions(data);\n      } catch (error) {\n        console.error('Error fetching versions:', error);\n      }\n    };\n    fetchVersions();\n  }, []);\n\n  return (\n    <div className=\"p-8 max-w-7xl mx-auto\">\n      {notification && (\n        <Notification type={notification.type} message={notification.message} onClose={() => setNotification(null)} />\n      )}\n      <div className=\"flex justify-between items-center mb-6\">\n        <h1 className=\"text-3xl font-bold\">Server Manager</h1>\n        <div className=\"flex gap-4\">\n          <button\n            onClick={refreshServers}\n            className=\"p-2 hover:bg-gray-500/50 rounded-md transition-colors\"\n            title=\"Refresh Servers\"\n          >\n            <RefreshCw className=\"w-5 h-5\" />\n          </button>\n          <button\n            onClick={() => setIsCreateModalOpen(true)}\n            className=\"px-4 py-2 bg-primary hover:bg-primary/80 rounded-md transition-colors\"\n          >\n            Create Server\n          </button>\n        </div>\n      </div>\n      {isCreateModalOpen && (\n        <CreateServerModal\n          onClose={() => setIsCreateModalOpen(false)}\n          refreshServers={refreshServers}\n          showNotification={showNotification}\n          versions={versions}\n        />\n      )}\n      <ServerList showNotification={showNotification} refreshTrigger={refreshServersTrigger} />\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA;AACA;AANA;;;;;;;;AAQe,SAAS;IACtB,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAyD;IACxG,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAY,EAAE;IACrD,MAAM,CAAC,uBAAuB,yBAAyB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnE,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3D,MAAM,mBAAmB,CAAC,MAA2B;QACnD,gBAAgB;YAAE;YAAM;QAAQ;QAChC,WAAW,IAAM,gBAAgB,OAAO;IAC1C;IAEA,MAAM,iBAAiB;QACrB,MAAM,UAAU,OAAO,OAAO;QAC9B,yBAAyB,CAAC,OAAS,CAAC;QACpC,WAAW,IAAM,OAAO,QAAQ,CAAC,GAAG,UAAU;IAChD;IAEA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,gBAAgB;YACpB,IAAI;gBACF,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,gHAAA,CAAA,UAAS,CAAC,GAAG,CAAC;gBACrC,YAAY;YACd,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,4BAA4B;YAC5C;QACF;QACA;IACF,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAI,WAAU;;YACZ,8BACC,8OAAC,4IAAA,CAAA,UAAY;gBAAC,MAAM,aAAa,IAAI;gBAAE,SAAS,aAAa,OAAO;gBAAE,SAAS,IAAM,gBAAgB;;;;;;0BAEvG,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAqB;;;;;;kCACnC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCACC,SAAS;gCACT,WAAU;gCACV,OAAM;0CAEN,cAAA,8OAAC,gNAAA,CAAA,YAAS;oCAAC,WAAU;;;;;;;;;;;0CAEvB,8OAAC;gCACC,SAAS,IAAM,qBAAqB;gCACpC,WAAU;0CACX;;;;;;;;;;;;;;;;;;YAKJ,mCACC,8OAAC,iJAAA,CAAA,UAAiB;gBAChB,SAAS,IAAM,qBAAqB;gBACpC,gBAAgB;gBAChB,kBAAkB;gBAClB,UAAU;;;;;;0BAGd,8OAAC,0IAAA,CAAA,UAAU;gBAAC,kBAAkB;gBAAkB,gBAAgB;;;;;;;;;;;;AAGtE","debugId":null}},
    {"offset": {"line": 1891, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}